SELECT cat, noorigartsbands, nosongs, songsdur FROM `Audio library`;
SELECT nam, noartsbands, nosongs, songsdur FROM Genre;
WITH musicartistband AS(WITH musicartistband AS(SELECT `Music artist/band`.ID, `Music artist/band`.artband, `Related music artist/band`.relartband, `Music artist/band`.genr, Song.nam, `Music artist/band`.nosongs, `Music artist/band`.songsdur, `Music artist/band`.totnosongs, `Music artist/band`.totsongsdur FROM `Music artist/band` LEFT JOIN `Related music artist/band` ON `Music artist/band`.ID=`Related music artist/band`.artband JOIN `Music artist/band's song` ON `Music artist/band`.ID=`Music artist/band's song`.artband JOIN Song ON `Music artist/band's song`.song=Song.ID WHERE `Music artist/band`.cat='Жанр') SELECT ID, artband, GROUP_CONCAT(DISTINCT relartband SEPARATOR ', ') AS relartband, genr, nam, nosongs, songsdur, totnosongs, totsongsdur FROM musicartistband GROUP BY ID, artband, genr, nam, nosongs, songsdur, totnosongs, totsongsdur) SELECT ID, artband, relartband, genr, GROUP_CONCAT(nam ORDER BY nam SEPARATOR ', '), nosongs, songsdur, totnosongs, totsongsdur FROM musicartistband GROUP BY ID, artband, relartband, genr, nosongs, songsdur, totnosongs, totsongsdur ORDER BY artband;
WITH relmusicartistband AS(SELECT `Music artist/band`.ID, `Related music artist/band`.relartband, Song.nam, `Related music artist/band`.nosongs, `Related music artist/band`.songsdur FROM `Music artist/band` JOIN `Related music artist/band` ON `Music artist/band`.ID=`Related music artist/band`.artband JOIN `Music artist/band's song` ON `Related music artist/band`.ID=`Music artist/band's song`.artband JOIN Song ON `Music artist/band's song`.song=Song.ID) SELECT ID, relartband, GROUP_CONCAT(DISTINCT nam ORDER BY nam SEPARATOR ', '), nosongs, songsdur FROM relmusicartistband GROUP BY ID, relartband, nosongs, songsdur ORDER BY relartband;
WITH composer AS(SELECT `Music artist/band`.ID, `Music artist/band`.artband, Song.nam, `Music artist/band`.nosongs, `Music artist/band`.songsdur FROM `Music artist/band` JOIN `Music artist/band's song` ON `Music artist/band`.ID=`Music artist/band's song`.artband JOIN Song ON `Music artist/band's song`.song=Song.ID WHERE `Music artist/band`.cat='Композиторы') SELECT ID, artband, GROUP_CONCAT(nam ORDER BY nam SEPARATOR ', '), nosongs, songsdur FROM composer GROUP BY ID, artband, nosongs, songsdur ORDER BY artband;
WITH blogger AS(SELECT `Music artist/band`.ID, `Music artist/band`.artband, Song.nam, `Music artist/band`.nosongs, `Music artist/band`.songsdur FROM `Music artist/band` JOIN `Music artist/band's song` ON `Music artist/band`.ID=`Music artist/band's song`.artband JOIN Song ON `Music artist/band's song`.song=Song.ID WHERE `Music artist/band`.cat='Блогеры') SELECT ID, artband, GROUP_CONCAT(nam ORDER BY nam SEPARATOR ', '), nosongs, songsdur FROM blogger GROUP BY ID, artband, nosongs, songsdur ORDER BY artband;
WITH song AS(SELECT Song.nam, `Music artist/band`.artband, `Music artist/band's song`.feat, Song.dur FROM `Music artist/band's song` JOIN `Music artist/band` ON `Music artist/band's song`.artband=`Music artist/band`.ID JOIN Song ON `Music artist/band's song`.song=Song.ID UNION (SELECT Song.nam, `Related music artist/band`.relartband, `Music artist/band's song`.feat, Song.dur FROM `Music artist/band's song` JOIN `Related music artist/band` ON `Music artist/band's song`.artband=`Related music artist/band`.ID JOIN Song ON `Music artist/band's song`.song=Song.ID)) SELECT nam, artband, feat, dur FROM song ORDER BY nam;
WITH cover AS(WITH cover AS(SELECT `Music artist/band`.artband, `Music artist/band's song`.feat, Song.ID, Song.nam, Song.dur FROM `Music artist/band's song` JOIN `Music artist/band` ON `Music artist/band's song`.artband=`Music artist/band`.ID JOIN Song ON `Music artist/band's song`.song=Song.ID WHERE Song.cat='Каверы' UNION (SELECT `Related music artist/band`.relartband, `Music artist/band's song`.feat, Song.ID, Song.nam, Song.dur FROM `Music artist/band's song` JOIN `Related music artist/band` ON `Music artist/band's song`.artband=`Related music artist/band`.ID JOIN Song ON `Music artist/band's song`.song=Song.ID WHERE Song.cat='Каверы')) SELECT cover.artband, cover.nam, cover.feat, cover.dur, `Music artist/band`.artband AS origartband, `Cover's original music artist/band`.feat AS origfeat FROM cover JOIN `Cover's original music artist/band` ON cover.ID=`Cover's original music artist/band`.song JOIN `Music artist/band` ON `Cover's original music artist/band`.artband=`Music artist/band`.ID UNION (SELECT cover.artband, cover.nam, cover.feat, cover.dur, `Related music artist/band`.relartband, `Cover's original music artist/band`.feat FROM cover JOIN `Cover's original music artist/band` ON cover.ID=`Cover's original music artist/band`.song JOIN `Related music artist/band` ON `Cover's original music artist/band`.artband=`Related music artist/band`.ID)) SELECT artband, nam, feat, dur, GROUP_CONCAT(origartband SEPARATOR ', '), origfeat FROM cover GROUP BY artband, nam, feat, dur, origfeat ORDER BY artband, nam;
SELECT ID, movanimsergam, artband, song, nosongs, songsdur FROM Soundtrack;
